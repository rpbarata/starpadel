<% content_for(:title, admin.t("titles.index", default: "Listing %{pluralized_model_name}")) %>

<% toolbar(:primary) do |t| %>
  <%= t.new %>
<% end %>

<% if @export_clients_url.present? %>
  <% toolbar(:secondary) do |t| %>
    <%= link_to("#{@export_clients_url}?#{export_clients_params(params)}", class: "btn-export", remote: false) do %>
      <i class="far fa-file-excel"></i><span>Exportar Clientes</span>
    <% end %>
    <br>
    <p>Este export Ã© apenas um proof of concept. Nem sei se vai funcionar em staging...</p>
  <% end %>
<% end %>

<% content_for(:utilities) do %>
  <%= render "scopes" %>
<% end if admin.scopes.any? %>

<%= render layout: "layout" do %>
  <% if hook?("resource.index.header") %>
    <header class="main-content-header">
      <%= hook("resource.index.header") %>
    </header>
  <% end %>

  <%= render "admin/filters", filter_url: request.path, filters: @filter_dropdown_lists, search: true, filter_dates: @filter_dates %>
  <%= render "trestle/table/table", table: admin.table, collection: collection %>

  <footer class="main-content-footer">
    <%= hook("resource.index.footer") %>

    <%= pagination collection: collection, entry_name: admin.model_name, remote: false %>
    <%# = paginate collection, remote: false %>
  </footer>
<% end %>
